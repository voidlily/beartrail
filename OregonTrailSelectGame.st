<?xml version="1.0"?>

<st-source>
<time-stamp>From VisualWorksÂ® NonCommercial, 7.6 of March 3, 2008 on December 1, 2008 at 6:10:58 pm</time-stamp>


<class>
<name>OregonTrailSelectGame</name>
<environment>OregonTrail</environment>
<super>UI.ApplicationModel</super>
<private>false</private>
<indexed-type>none</indexed-type>
<inst-vars>games user gamesList </inst-vars>
<class-inst-vars></class-inst-vars>
<imports></imports>
<category>UIApplications-New</category>
<attributes>
<package>OregonTrail</package>
</attributes>
</class>

<!-- -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -   -->


<methods>
<class-id>OregonTrail.OregonTrailSelectGame class</class-id> <category>interface specs</category>

<body package="OregonTrail" selector="windowSpec">windowSpec
	"Tools.UIPainter new openOnClass: self andSelector: #windowSpec"

	&lt;resource: #canvas&gt;
	^#(#{UI.FullSpec} 
		#window: 
		#(#{UI.WindowSpec} 
			#label: 'Select Game' 
			#bounds: #(#{Graphics.Rectangle} 512 384 843 584 ) ) 
		#component: 
		#(#{UI.SpecCollection} 
			#collection: #(
				#(#{UI.SequenceViewSpec} 
					#layout: #(#{Graphics.Rectangle} 49 47 257 150 ) 
					#name: #List1 
					#model: #gamesList 
					#useModifierKeys: true 
					#selectionType: #highlight ) 
				#(#{UI.LabelSpec} 
					#layout: #(#{Core.Point} 65 19 ) 
					#name: #Label1 
					#label: 'Select a game or start a new game' ) 
				#(#{UI.ActionButtonSpec} 
					#layout: #(#{Graphics.Rectangle} 54 156 135 179 ) 
					#name: #ActionButton1 
					#model: #load 
					#label: 'Load Game' 
					#defaultable: true ) 
				#(#{UI.ActionButtonSpec} 
					#layout: #(#{Graphics.Rectangle} 159 156 240 179 ) 
					#name: #ActionButton2 
					#model: #new 
					#label: 'New Game' 
					#defaultable: true ) ) ) )</body>
</methods>

<!-- -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -   -->


<comment>
<class-id>OregonTrail.OregonTrailSelectGame</class-id>
<body>Window for selecting game

Instance Variables:
	games	&lt;Object | WeakProxy&gt;	description of games
	gamesList	&lt;SelectionInList&gt;	description of gamesList
	user	&lt;User&gt;	description of user

</body>
</comment>

<methods>
<class-id>OregonTrail.OregonTrailSelectGame</class-id> <category>actions</category>

<body package="OregonTrail" selector="load">load

	"This stub method was generated by UIDefiner"
	"set the GameData instance - populate so all the right references are in the right places"
	|appmodel|
	gamesList selection notNil ifTrue:[
		GameData populate: (gamesList selection wagon wagon_id).
		appmodel := OregonTrailAppModel new.
		appmodel wagon: GameData instance wagon.
		appmodel open.
		self closeRequest.].
	^self</body>

<body package="OregonTrail" selector="new">new

	"This stub method was generated by UIDefiner"
	"create new game"
	^self</body>
</methods>

<methods>
<class-id>OregonTrail.OregonTrailSelectGame</class-id> <category>aspects</category>

<body package="OregonTrail" selector="gamesList">gamesList
	"This method was generated by UIDefiner.  Any edits made here
	may be lost whenever methods are automatically defined.  The
	initialization provided below may have been preempted by an
	initialize method."

	^gamesList isNil
		ifTrue:
			[gamesList := SelectionInList new.
				games := GameData gamesForUser: user user_id.
				gamesList listHolder:((UI.AspectAdaptor subject: self sendsUpdates: true) forAspect: #games).]
		ifFalse:
			[gamesList]</body>
</methods>

<methods>
<class-id>OregonTrail.OregonTrailSelectGame</class-id> <category>accessing</category>

<body package="OregonTrail" selector="games">games
	^games</body>

<body package="OregonTrail" selector="games:">games: anObject
	games := anObject</body>

<body package="OregonTrail" selector="user">user
	^user</body>

<body package="OregonTrail" selector="user:">user: anObject
	user := anObject</body>
</methods>

</st-source>
