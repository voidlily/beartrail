<?xml version="1.0"?>

<st-source>
<time-stamp>From VisualWorksÂ® NonCommercial, 7.6 of March 3, 2008 on December 1, 2008 at 6:10:52 pm</time-stamp>


<class>
<name>OregonTrailAppLogin</name>
<environment>OregonTrail</environment>
<super>UI.ApplicationModel</super>
<private>false</private>
<indexed-type>none</indexed-type>
<inst-vars>password username </inst-vars>
<class-inst-vars></class-inst-vars>
<imports></imports>
<category>UIApplications-New</category>
<attributes>
<package>OregonTrail</package>
</attributes>
</class>

<!-- -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -   -->


<methods>
<class-id>OregonTrail.OregonTrailAppLogin class</class-id> <category>interface specs</category>

<body package="OregonTrail" selector="windowSpec">windowSpec
	"Tools.UIPainter new openOnClass: self andSelector: #windowSpec"

	&lt;resource: #canvas&gt;
	^#(#{UI.FullSpec} 
		#window: 
		#(#{UI.WindowSpec} 
			#label: 'Oregon Trail' 
			#bounds: #(#{Graphics.Rectangle} 512 384 712 584 ) ) 
		#component: 
		#(#{UI.SpecCollection} 
			#collection: #(
				#(#{UI.InputFieldSpec} 
					#layout: #(#{Graphics.Rectangle} 84 45 184 68 ) 
					#name: #InputField1 
					#model: #username ) 
				#(#{UI.InputFieldSpec} 
					#layout: #(#{Graphics.Rectangle} 84 90 184 113 ) 
					#name: #InputField2 
					#model: #password 
					#type: #password ) 
				#(#{UI.LabelSpec} 
					#layout: #(#{Core.Point} 20 47 ) 
					#name: #Label1 
					#label: 'Username' ) 
				#(#{UI.LabelSpec} 
					#layout: #(#{Core.Point} 20 92 ) 
					#name: #Label2 
					#label: 'Password' ) 
				#(#{UI.ActionButtonSpec} 
					#layout: #(#{Graphics.Rectangle} 53 145 134 168 ) 
					#name: #ActionButton1 
					#model: #login 
					#label: 'Login' 
					#isDefault: true 
					#defaultable: true ) 
				#(#{UI.LabelSpec} 
					#layout: #(#{Core.Point} 40 14 ) 
					#name: #Label3 
					#label: 'Welcome to Oregon Trail' ) ) ) )</body>
</methods>

<!-- -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -   -->


<comment>
<class-id>OregonTrail.OregonTrailAppLogin</class-id>
<body>Window to login - should launch app from this window

Instance Variables:
	password	&lt;ValueHolder&gt;	description of password
	username	&lt;ValueHolder&gt;	description of username

</body>
</comment>

<methods>
<class-id>OregonTrail.OregonTrailAppLogin</class-id> <category>actions</category>

<body package="OregonTrail" selector="login">login

	"This stub method was generated by UIDefiner"
	"if username and password exist, get the matching user id, otherwise warning box with invalid login"
	|user selectWindow|
	user := User populate: self username value password: self password value.
	user user_id isNil ifTrue:[Dialog warn: 'Invalid username/password combination']
	ifFalse:[
	selectWindow := OregonTrailSelectGame new.
	selectWindow user: user.
	selectWindow open.
	self closeRequest.].
	^self</body>
</methods>

<methods>
<class-id>OregonTrail.OregonTrailAppLogin</class-id> <category>aspects</category>

<body package="OregonTrail" selector="password">password
	"This method was generated by UIDefiner.  Any edits made here
	may be lost whenever methods are automatically defined.  The
	initialization provided below may have been preempted by an
	initialize method."

	^password isNil
		ifTrue:
			[password := String new asValue]
		ifFalse:
			[password]</body>

<body package="OregonTrail" selector="username">username
	"This method was generated by UIDefiner.  Any edits made here
	may be lost whenever methods are automatically defined.  The
	initialization provided below may have been preempted by an
	initialize method."

	^username isNil
		ifTrue:
			[username := String new asValue]
		ifFalse:
			[username]</body>
</methods>

</st-source>
